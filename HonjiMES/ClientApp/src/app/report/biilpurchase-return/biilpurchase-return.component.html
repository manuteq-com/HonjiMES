<div class="headerblock">
    <app-headerfont></app-headerfont>
</div>

<dx-data-grid
    [dataSource]="dataSourceDB"
    showBorders="true"
    keyExpr="id"
    [focusedRowEnabled]="true"
    (onDataErrorOccurred)="onDataErrorOccurred($event)"
    [(autoNavigateToFocusedRow)]="autoNavigateToFocusedRow"
    (onFocusedRowChanging)="onFocusedRowChanging($event)"
    (onFocusedRowChanged)="onFocusedRowChanged($event)"
    (onEditorPreparing)="onEditorPreparing($event)"
    (onSelectionChanged)="selectionChanged($event)"
    hoverStateEnabled="true"
    [rowAlternationEnabled]="true"
    [remoteOperations]="remoteOperations"  [columnAutoWidth]="true"
    >

    <dxo-scrolling columnRenderingMode="virtual"></dxo-scrolling>
    <dxo-selection mode="single"></dxo-selection>
    <dxo-filter-row [visible]="true"></dxo-filter-row>
    <dxo-header-filter [visible]="false"></dxo-header-filter>
    <dxo-sorting mode="multiple"></dxo-sorting>
    <dxo-grouping [autoExpandAll]="true"></dxo-grouping>
    <dxo-paging [pageSize]="20"></dxo-paging>
    <dxo-pager [showPageSizeSelector]="true" [allowedPageSizes]="[5, 10, 15, 20, 100]" [showInfo]="true">
    </dxo-pager>
    <dxo-editing mode="row"  [allowAdding]="false" [allowUpdating]="false" [allowDeleting]="false">
    </dxo-editing>

    <dxi-column dataField="ReturnCreateTime" caption="驗退時間" dataType="date" format="shortDateShortTime"
    sortOrder="desc" [width]="180" [(selectedFilterOperation)]="selectedOperation"></dxi-column>

    <dxi-column dataField="BillofPurchaseNo" caption="進貨單號" [width]="150"></dxi-column>
    <dxi-column dataField="PurchaseNo" caption="採購單號" [width]="140"></dxi-column>
    <dxi-column dataField="SupplierName" caption="供應商" [width]="220"></dxi-column>
    <dxi-column dataField="ProductNo" caption="品號" [width]="220"></dxi-column>
    <dxi-column dataField="Specification" caption="規格" [width]="220"></dxi-column>

    <dxi-column dataField="ReturnWarehouse" caption="驗退倉別" [width]="150"></dxi-column>
    <dxi-column dataField="ReturnQuantity" caption="驗退數量" alignment="center" [width]="80"></dxi-column>
    <dxi-column dataField="ReturnReason" caption="驗退原因"></dxi-column>

    <dxi-column dataField="Responsibility" caption="歸責" [width]="80">
        <dxo-lookup [dataSource]="ResponsibilityTypeList" displayExpr="Name" valueExpr="Id"></dxo-lookup>
    </dxi-column>
    <dxi-column dataField="ReturnTime" caption="寄回時間" dataType="date" format="shortDateShortTime" [width]="180"></dxi-column>
    <dxi-column dataField="Price" caption="驗退單價" [width]="80"></dxi-column>
    <dxi-column dataField="PriceAll" caption="驗退總價" [width]="80"></dxi-column>
    <!-- <dxi-column dataField="Unit" caption="單位" [width]="80"></dxi-column>
    <dxi-column dataField="UnitCount" caption="計價數量" [width]="80"></dxi-column>
    <dxi-column dataField="UnitPrice" caption="計價總額" [width]="80"></dxi-column> -->

    <!-- <dxi-column dataField="ReturnRemarks" caption="驗退備註" [width]="140"></dxi-column> -->
    <dxi-column dataField="ReturnCreateUser" caption="驗退人員" [width]="100"></dxi-column>

</dx-data-grid>

<form action="" (submit)="onFormSubmit($event)">
    <dx-form id="form" [formData]="formData" [readOnly]="readOnly" [showColonAfterLabel]="showColon"
        [labelLocation]="labelLocation" [minColWidth]="minColWidth" [colCount]="colCount" [width]="width">

        <dxi-item dataField="CreateTime" editorType="dxDateBox" [editorOptions]="CreateTimeDateBoxOptions" [(visible)]="!showdisabled">
            <dxi-validation-rule type="required" message="建立日期 必填"></dxi-validation-rule>
            <dxo-label text="建立日期"></dxo-label>
        </dxi-item>
        <dxi-item dataField="SaleNo" [disabled]="true" [(visible)]="!showdisabled">
            <dxi-validation-rule type="required" message="銷貨單號 必填"></dxi-validation-rule>
            <dxo-label text="銷貨單號"></dxo-label>
        </dxi-item>
        <dxi-item dataField="SaleDate" editorType="dxDateBox" [editorOptions]="startTimeInput"
            [(visible)]="!showdisabled">
            <dxi-validation-rule type="required" message="銷貨日期 必填"></dxi-validation-rule>
            <dxo-label text="銷貨日期"></dxo-label>
        </dxi-item>
        <dxi-item dataField="Remarks" [(visible)]="!showdisabled">
            <dxo-label text="備註"></dxo-label>
        </dxi-item>
        <dxi-item dataField="SaleID" dataType="number" editorType="dxSelectBox" [editorOptions]="selectBoxOptions" [(visible)]="showdisabled">
            <dxi-validation-rule type="required" message="銷貨單號 必填"></dxi-validation-rule>
            <dxo-label text="銷貨單號"></dxo-label>
        </dxi-item>
        <dxi-item itemType="button" alignment="left" [buttonOptions]="buttonOptions" [disabled]="buttondisabled"></dxi-item>

    </dx-form>
    <!-- <dx-button  text='存檔' type='success' icon='save' [useSubmitBehavior]="true" [disabled]="buttondisabled"></dx-button> -->
    <br/>
        <dx-data-grid [dataSource]="dataSourceDB" [showBorders]="true" [columnAutoWidth]="true" (onDataErrorOccurred)="onDataErrorOccurred($event)"
        (onEditorPreparing)="onEditorPreparing($event)" (onCellPrepared)="onCellPrepared($event)">
            <dxo-editing mode="cell" [allowAdding]="false" [allowUpdating]="true" [allowDeleting]="true"></dxo-editing>
            <dxi-column dataField="MaterialBasicId" caption="品號" [allowEditing]="false">
                <dxo-lookup [dataSource]="MaterialBasicList" displayExpr="MaterialNo" valueExpr="Id"></dxo-lookup>
            </dxi-column>
            <dxi-column dataField="MaterialBasicId" caption="品名" [allowEditing]="false">
                <dxo-lookup [dataSource]="MaterialBasicList" displayExpr="Name" valueExpr="Id"></dxo-lookup>
            </dxi-column>
            <dxi-column dataField="MaterialBasicId" caption="規格" [allowEditing]="false">
                <dxo-lookup [dataSource]="MaterialBasicList" displayExpr="Specification" valueExpr="Id"></dxo-lookup>
            </dxi-column>
            <!-- <dxi-column dataField="WarehouseId" caption="倉別">
                <dxi-validation-rule type="required" message="品號 必填" width="200"></dxi-validation-rule>
                <dxo-lookup [dataSource]="WarehouseList" displayExpr="Name" valueExpr="Id"></dxo-lookup>
            </dxi-column> -->
            <dxi-column dataField="Quantity" caption="數量" dataType="number" editorType="dxNumberBox" [editorOptions]="editorOptions"></dxi-column>
            <dxi-column dataField="OriginPrice" caption="原單價" dataType="number" format="$ #,##0.##;($ #,##0.##)" [allowEditing]="false"></dxi-column>
            <dxi-column dataField="Price" caption="金額" dataType="number" format="$ #,##0.##;($ #,##0.##)" [allowEditing]="false"></dxi-column>
        </dx-data-grid>
</form>
